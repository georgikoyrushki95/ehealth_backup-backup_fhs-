{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Register{% endblock %}

{% block body_block %}
    <div class="container">
        <div class="row">
            {% if registered %}
                <h1>Thank you for registering!</h1>
                <a href="{% url 'index' %}">Return to the homepage.</a><br />
            {% else %}
                <div class="register-formWrapper">
                    <div class="col-xs-5 register-form register-formWrapper">

                        <form id="user_form" method="post" action="/fhs/register/"
                            enctype="multipart/form-data">
                            <h1>Register</h1>
                            {% csrf_token %}
                            {% if username_taken %}
                                <p class="reg-error" >Fail registration attempt: This username is already in the system. Please try again with a different username</p>
                            {% endif %}
                            <div class="form-group">
                                <input class="register-input" id="id_username" required autofocus maxlength="50" name="username" placeholder="Account name" type="text">
                            </div>
                            {% if email_in_db %}
                                <p class="reg-error" >Fail registration attempt: This email is already in the system. Please try again with a different email</p>
                            {% endif %}
                            <div class="form-group">
                                <input class="register-input" id="id_email" maxlength="75" name="email" placeholder="Email" type="email">
                            </div>
                            <div class="form-group">
                                <input class="register-input" id="id_password" required name="password" maxlength="50" placeholder="Password" type="password">
                            </div>
                            <div class="form-group">
                                <label id="pic-label" for="uploadFile">Profile Picture</label>
                                <input id="uploadFile" placeholder="Choose File" disabled="disabled" />
                                <div class="fileUpload btn btn-default" id="uploadBtn">
                                    <span>Upload</span>
                                    <input id="uploadBtn" name="picture" type="file" class="upload" />
                                </div>
                            </div>
                            <div class="login"><input class="btn btn-primary sign-up-btn" type="submit" name="submit" value="Sign Up" /></div>
                        </form>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>

    <script src="{% static "js/form_js.js" %}"></script>
{% endblock %}